(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{899:function(e,t,a){"use strict";a.r(t);var n=a(119),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"settimeout传参数问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#settimeout传参数问题"}},[e._v("#")]),e._v(" setTimeout传参数问题")]),e._v(" "),a("p",[e._v("无论是"),a("code",[e._v("window.setTimeout")]),e._v("还是"),a("code",[e._v("window.setInterval")]),e._v("，在使用函数名作为调用句柄时都不能带参数，而在 许多场合必须要带参数，这就需要想方法解决。例如对于函数"),a("code",[e._v("hello(_name)")]),e._v("，它用于针对用户名显示欢迎信息：\n")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('var userName="jack"; \n//根据用户名显示欢迎信息 \nfunction hello(_name){ \n    alert("hello,"+_name); \n} \n')])])]),a("p",[e._v("这时，如果企图使用以下语句来使"),a("code",[e._v("hello")]),e._v("函数延迟3秒执行是不可行的：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("window.setTimeout(hello(userName),3000); \n")])])]),a("p",[e._v("这将使hello函数立即执行，并将返回值作为调用句柄传递给"),a("code",[e._v("setTimeout")]),e._v("函数，其结果并不是程序需要的 。而使用字符串形式可以达到想要的结果：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('window.setTimeout("hello(userName)",3000); \n')])])]),a("p",[e._v("这里的字符串是一段JavaScript代码，其中的"),a("code",[e._v("userName")]),e._v("表示的是变量。但这种写法不够直观，而且有些 场合必须使用函数名，并且所传的变量"),a("strong",[e._v("必须为全局变量，不能传递局变量")]),e._v("\n下面用一个小技巧来实现带参数函数的调用：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('<script language="JavaScript" type="text/javascript"> \n\x3c!-- \nvar userName="jack"; \n//根据用户名显示欢迎信息 \nfunction hello(_name){ \n       alert("hello,"+_name); \n} \n//创建一个函数，用于返回一个无参数函数 \nfunction _hello(_name){ \n       return function(){ \n             hello(_name); \n       } \n} \nwindow.setTimeout(_hello(userName),3000); \n//--\x3e \n<\/script> \n')])])]),a("p",[a("strong",[e._v("此技巧，不管是全局变量，还是局部变量都可以传递")]),e._v("\n这里定义了一个函数"),a("code",[e._v("_hello")]),e._v("，用于接收一个参数，并返回一个不带参数的函数，在这个函数内部使用了 外部函数的参数，从而对其调用，不需要使用参数。在"),a("code",[e._v("window.setTimeout")]),e._v("函数中，使用"),a("code",[e._v("_hello (userName)")]),e._v("来返回一个不带参数的函数句柄，从而实现了参数传递的功能。\n来自：http://www.cnblogs.com/chinahnzl/articles/612147.html")])])}),[],!1,null,null,null);t.default=s.exports}}]);