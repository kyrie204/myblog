(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{897:function(n,e,t){"use strict";t.r(e);var a=t(119),s=Object(a.a)({},(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h4",{attrs:{id:"直接贴代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#直接贴代码"}},[n._v("#")]),n._v(" 直接贴代码")]),n._v(" "),t("h2",{attrs:{id:"第一步"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第一步"}},[n._v("#")]),n._v(" 第一步")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('<script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js"><\/script>\n')])])]),n._v(" "),t("h2",{attrs:{id:"第二部配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第二部配置"}},[n._v("#")]),n._v(" 第二部配置")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("<script type=\"text/javascript\">\n        wx.config({\n            debug: false,\n            appId: '<?=$signPackage[\"appId\"];?>',//公众号的唯一标识\n            timestamp: '<?=$signPackage[\"timestamp\"];?>',//生成签名的时间戳\n            nonceStr: '<?=$signPackage[\"nonceStr\"];?>',//生成签名的随机串\n            signature: '<?=$signPackage[\"signature\"];?>',\n            jsApiList: ['checkJsApi',\n                'onMenuShareTimeline',\n                'onMenuShareAppMessage',\n                'onMenuShareQQ',\n                'onMenuShareWeibo',\n                'chooseImage',\n                'previewImage',\n                'uploadImage',\n                'downloadImage',\n                'getLocation',\n            ]\n        });\n\n\n        wx.ready(function(){\n\n            wx.onMenuShareTimeline({     //分享\n                title: '{$share[\"title\"]}',\n                link:'{$share[\"url\"]}',\n                imgUrl:'{$share[\"image\"]}',\n                success: function () {\n\n                },\n                cancel: function () {}\n            });\n\n            wx.onMenuShareAppMessage({    //分享\n                title: '{$share[\"title\"]}',\n                desc: '{$share[\"desc\"]}',\n                link:'{$share[\"url\"]}',\n                imgUrl:'{$share[\"image\"]}',\n                success: function () {\n\n                },\n                cancel: function () {}\n            });\n\n             wx.getLocation({    // 获取地理位置经纬度信息;\n                    type: 'wgs84', // 默认为wgs84的gps坐标，如果要返回直接给openLocation用的火星坐标，可传入'gcj02'\n                    success: function (res) {\n                        conso.log(res)\n                        lng = res.latitude; // 纬度，浮点数，范围为90 ~ -90\n                        lat = res.longitude; // 经度，浮点数，范围为180 ~ -180。\n                        if(!latitude || !longtude){\n                            layer.closeAll();\n                            layer.open({\n                                content:\"请确认您已经开启了GPS，并且同意微信获取您的地理位置\"\n                            });\n                        }\n                        console.log(latitude + \"__\"+longtude )\n                    },\n                    cancel: function (res) {\n                        console.log('取消')\n                        layer.closeAll();\n                        layer.open({\n                            content:\"请确认您已经开启了GPS，并且同意微信获取您的地理位置\"\n                        });\n                    },\n                    fail: function (res){\n                        console.log('失败')\n                        layer.closeAll();\n                        layer.open({\n                            content:\"地理位置获取失败，请确认您已经开启了GPS，并且同意微信获取您的地理位置\"\n                        });\n                    }\n                })\n\n        });\n    <\/script>\n")])])]),t("p",[n._v("获取地址时要在"),t("code",[n._v("wx.ready({})")]),n._v("里面请求;")])])}),[],!1,null,null,null);e.default=s.exports}}]);